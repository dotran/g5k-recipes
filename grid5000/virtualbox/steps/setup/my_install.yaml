# Install my custom set of utilities

- update_repos_and_upgrades:
  - exec_in: |
      apt-get -y --force-yes update
      apt-get -y --force-yes upgrade
      apt-get -y --force-yes autoclean
      apt-get -y --force-yes clean
      apt-get -y --force-yes autoremove

- install_additions:
  - exec_in: |
      apt install -y htop git
      apt install -y bash-completion build-essential module-assistant

- install_command_not_found:
  - exec_in: |
      apt install -y command-not-found
      update-command-not-found

- install_compilers_openmpi:
  - exec_in: |
      apt install -y gcc g++ make cmake gfortran
      apt install -y openmpi-bin openmpi-common libopenmpi-dev

- install_python:
  - exec_in: |
      apt install -y python-pip python3-pip python-virtualenv
      apt install -y zlib1g-dev libssl-dev libsqlite3-dev libbz2-dev libffi-dev libreadline-dev

- install_r_helpers:
  - exec_in: |
      apt install -y apt-transport-https
      apt install -y dirmngr
      apt install -y libatlas3-base
      apt install -y libcurl4-openssl-dev libxml2-dev

- add_r_backport_to_source_list:
  - exec_in: |
      echo -e "\n\n\n# Backport of R\n" >> /etc/apt/sources.list
      echo "deb https://cloud.r-project.org/bin/linux/$${distrib} $${release}-cran34/" >> /etc/apt/sources.list

- install_r:
  - exec_in: |
      apt r-base r-base-dev

- clean_up:
  - exec_in: |
      apt-get -y --force-yes autoclean
      apt-get -y --force-yes clean
      apt-get -y --force-yes autoremove
